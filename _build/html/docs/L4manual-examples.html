
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Examples in L4 and the concepts and keywords introduced in each example &#8212; L4 Manual 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#docs/L4manual-examples" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="L4 Manual 1.0 documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">L4 Manual 1.0 documentation</span>
          <span class="md-header-nav__topic"> Examples in L4 and the concepts and keywords introduced in each example </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">L4 Manual 1.0 documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="L4 Manual 1.0 documentation" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="L4 Manual 1.0 documentation">L4 Manual 1.0 documentation</a>
  </label>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#docs-l4manual-examples--page-root" class="md-nav__link">Examples in L4 and the concepts and keywords introduced in each example</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#rules-booleans-and-syntax-must-sing-example" class="md-nav__link">Rules, Booleans, and Syntax: Must Sing Example</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#regulative-rules" class="md-nav__link">Regulative Rules</a>
        </li>
        <li class="md-nav__item"><a href="#syntax-meta-rules" class="md-nav__link">Syntax (Meta-)Rules</a>
        </li>
        <li class="md-nav__item"><a href="#constitutive-rules" class="md-nav__link">Constitutive Rules</a>
        </li>
        <li class="md-nav__item"><a href="#boolean-structures" class="md-nav__link">Boolean Structures</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#booleans-and-visualization-rodents-and-vermin-example" class="md-nav__link">Booleans and Visualization: Rodents and Vermin Example</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#decisions" class="md-nav__link">Decisions</a>
        </li>
        <li class="md-nav__item"><a href="#decision-diagrams" class="md-nav__link">Decision Diagrams</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#events-consequences-obligations-vs-permissions-contract-as-automaton" class="md-nav__link">Events & Consequences, Obligations vs Permissions: Contract as Automaton</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#declarations-and-definitions" class="md-nav__link">Declarations and Definitions</a>
        </li>
        <li class="md-nav__item"><a href="#deadlines" class="md-nav__link">Deadlines</a>
        </li>
        <li class="md-nav__item"><a href="#deontics" class="md-nav__link">Deontics</a>
        </li>
        <li class="md-nav__item"><a href="#connections" class="md-nav__link">Connections</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#entity-relations-ontology-inference-and-predicate-logic-syntax-motor-insurance" class="md-nav__link">Entity Relations, Ontology Inference, and Predicate Logic Syntax: Motor Insurance</a>
        </li>
        <li class="md-nav__item"><a href="#encoding-of-real-legislation-pdpa-dbno" class="md-nav__link">Encoding of Real Legislation: PDPA DBNO</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/docs/L4manual-examples.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="examples-in-l4-and-the-concepts-and-keywords-introduced-in-each-example">
<span id="examples"></span><h1 id="docs-l4manual-examples--page-root">Examples in L4 and the concepts and keywords introduced in each example<a class="headerlink" href="#docs-l4manual-examples--page-root" title="Permalink to this heading">¶</a></h1>
<p>Examples illustrate key concepts along the way.</p>
<section id="rules-booleans-and-syntax-must-sing-example">
<h2 id="rules-booleans-and-syntax-must-sing-example">Rules, Booleans, and Syntax: Must Sing Example<a class="headerlink" href="#rules-booleans-and-syntax-must-sing-example" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.google.com/spreadsheets/d/1leBCZhgDsn-Abg2H_OINGGv-8Gpf9mzuX1RR56v0Sss/edit?pli=1#gid=1505307398">Link to ‘Must Sing’ example</a></p>
<p>This example gives an overview of how to write a simple rule in L4 using the simple rule: “Every person who walks and eats or drinks must sing”.</p>
<p>We thank Matthew Waddington for originally authoring the case from which this example is drawn.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Constitutive and Regulative Rules</p></li>
<li><p>Boolean Structures</p></li>
<li><p>Inline Syntax</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>EVERY</p></li>
<li><p>WHO</p></li>
<li><p>MUST</p></li>
<li><p>AND</p></li>
<li><p>OR</p></li>
<li><p>MEANS</p></li>
</ul>
</div></blockquote>
<p>This chapter begins with a very simple rule:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>EVERY   Person
WHO     walks
MUST    sing
</pre></div>
</div>
<p>L4 has two types of basic rules: regulative, and constitutive.</p>
<p>The basic syntax for regulative, or prescriptive, rules is as follows:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Regulative Rule <span class="o">::=</span> EVERY | PARTY           Entity Label
                    [ WHO | WHICH           Boolean Structure       ]
                    MUST | MAY | SHANT      Action Spec
</pre></div>
</div>
<section id="regulative-rules">
<h3 id="regulative-rules">Regulative Rules<a class="headerlink" href="#regulative-rules" title="Permalink to this heading">¶</a></h3>
<p>Legal sentences for regulative rules, according to the syntax definition above, include:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>1.
EVERY   Person
WHO     walks
MUST    sing

2.
EVERY   Organization
WHICH   creates art
MAY     brag

3.
PARTY   Alice

MUST    pay Bob

4.
PARTY   Bob

MUST    say bad things about Alice
</pre></div>
</div>
</section>
<section id="syntax-meta-rules">
<h3 id="syntax-meta-rules">Syntax (Meta-)Rules<a class="headerlink" href="#syntax-meta-rules" title="Permalink to this heading">¶</a></h3>
<p>The syntax definition above obeys syntax rules of its own.</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">|</span></code> indicates alternatives: the first word of the sentence can be either EVERY or PARTY. The last keyword can be MUST, MAY, or SHANT.</p></li>
<li><p>A pair of [brackets] indicates that the text between them is optional: that’s why in examples 3 and 4, Alice and Bob have no WHO or WHICH.</p></li>
<li><p>The terms to the right of the keywords hold space for expressions that have syntax rules of their own.</p></li>
</ul>
<p>Just as the above stanza defines the syntax for “Regulative Rule”, you can expect to find stanzas elsewhere that define the syntax for “Entity Label”, “Boolean Structure”, and “Action Spec”.</p>
<ul class="simple">
<li><p>“Alice”, “Bob”, “Person”, and “Organization” all satisfy the definition for an “Entity Label”.</p></li>
<li><p>“Boolean Structure” is satisfied by “walks” and “creates art”. The simplest Boolean Structure is a single word.</p></li>
<li><p>“Sing”, “brag”, “pay Bob”, and “say bad things about Alice” are all examples of an “Action Spec”.</p></li>
</ul>
<p>Together, these syntax rules give the “grammar” of the L4 language.</p>
<p>L4’s grammar is based on familiar English grammar. Entity Labels are nouns. Action Specs are verbs (technically, verb phrases).</p>
</section>
<section id="constitutive-rules">
<h3 id="constitutive-rules">Constitutive Rules<a class="headerlink" href="#constitutive-rules" title="Permalink to this heading">¶</a></h3>
<p>The basic syntax for constitutive rules is as follows:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Constitutive Rule <span class="o">::=</span> MultiTerm
                        MEANS   Boolean Structure
</pre></div>
</div>
<p>In legal writing, definitions appear near the top of the document. Defined Terms are usually identified with Capital Letters.</p>
<p>L4 uses constitutive rules to define terms.</p>
<p>This “Must Sing” chapter gives an example of a constitutive rule:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>        Qualifies
MEANS   walks
AND             eats
        OR      drinks
</pre></div>
</div>
<p>The “MultiTerm” being defined is “Qualifies”. The detailed syntax for “MultiTerm” is given below. In short, it consists of one or more words in separate cells.</p>
<p>The Boolean Structure contains “walks AND eats OR drinks”.</p>
</section>
<section id="boolean-structures">
<h3 id="boolean-structures">Boolean Structures<a class="headerlink" href="#boolean-structures" title="Permalink to this heading">¶</a></h3>
<p>Let’s look more closely at Boolean Structures.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Boolean Structure <span class="o">::=</span>   Boolean Structure
                        AND | OR | UNLESS   Boolean Structure
                                            Element
</pre></div>
</div>
<p>The third line of the definition, “Element”, bottoms out at a leaf node: just some word, without any ANDs or ORs within.</p>
<p>In this first lesson, elements are single words.</p>
<p>These are the most essential forms of syntax in L4. Advanced versions of these clauses and constituent elements will be presented later.</p>
</section>
</section>
<section id="booleans-and-visualization-rodents-and-vermin-example">
<h2 id="booleans-and-visualization-rodents-and-vermin-example">Booleans and Visualization: Rodents and Vermin Example<a class="headerlink" href="#booleans-and-visualization-rodents-and-vermin-example" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.google.com/spreadsheets/d/1leBCZhgDsn-Abg2H_OINGGv-8Gpf9mzuX1RR56v0Sss/edit?pli=1#gid=1206725099">Link to ‘Rodents and Vermin’ example</a></p>
<p>This example focus on a single decision rule drawn from a home insurance policy and its transformations to more easily understood forms.</p>
<p>Decisions express first-order logic, functions, predicates, judgements, and calculation in general.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Boolean Structures in detail.</p></li>
<li><p>Visualization as an electrical circuit diagram.</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>DECIDE</p></li>
<li><p>WHEN</p></li>
<li><p>UNLESS</p></li>
<li><p>AND</p></li>
<li><p>OR</p></li>
<li><p>NOT</p></li>
</ul>
</div></blockquote>
<section id="decisions">
<h3 id="decisions">Decisions<a class="headerlink" href="#decisions" title="Permalink to this heading">¶</a></h3>
<p>Decisions express first-order logic, functions, predicates, judgements, and calculation in general.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Hornlike <span class="o">::=</span> [GIVEN        ParamText            ]
              DECIDE       RelationalPredicate
             [WHEN | IF    Boolean Structure    ]
</pre></div>
</div>
<p>If you happen to know Prolog, you will be familiar with the notion of a Horn clause.</p>
<p><code class="docutils literal notranslate"><span class="pre">head(param1,</span> <span class="pre">param2,</span> <span class="pre">…)</span> <span class="pre">:-</span> <span class="pre">body1(param3,</span> <span class="pre">param4),</span> <span class="pre">body2(param5,</span> <span class="pre">param6).</span></code></p>
<p>The head, to the left of the :- symbol, is the conclusion of the rule.</p>
<p>The body, to the right of the :- symbol, contains the list of predicates that, when satisfied, conclude that the head of the rule is true.</p>
<p>In L4, the relational predicate on the DECIDE line gives the conclusion of the rule.</p>
<p>The Boolean Structure introduced by the WHEN keyword gives the conditions of the rule.</p>
<p>The keywords WHEN and IF are synonymous in a DECIDE context.</p>
<p>The GIVEN keyword provides other arguments to the decision rule, and is conjoined with the WHEN | IF material.</p>
<p>The expression context of the GIVEN and WHEN | IF includes the history available to the calling context. For example, if the decision is being evaluated for the purposes of executing a certain regulative rule, the trace prior to that state transition is available to the DECIDE rule.</p>
<p>Constitutive rules using WHEN are a subset of Hornlike rules that use DECIDE.</p>
</section>
<section id="decision-diagrams">
<h3 id="decision-diagrams">Decision Diagrams<a class="headerlink" href="#decision-diagrams" title="Permalink to this heading">¶</a></h3>
<p>Visualization of a decision rule produces a “circuit diagram”: it is based on electrical circuit diagrams. If you can find a path from the left side of the diagram to the right, where the relevant terms have the required values,
the overall value of the decision diagram is true.</p>
<p>This is useful because it shows the “big picture” of a legal construct, and suggests ways to short-circuit a particular decision rule.</p>
</section>
</section>
<section id="events-consequences-obligations-vs-permissions-contract-as-automaton">
<h2 id="events-consequences-obligations-vs-permissions-contract-as-automaton">Events &amp; Consequences, Obligations vs Permissions: Contract as Automaton<a class="headerlink" href="#events-consequences-obligations-vs-permissions-contract-as-automaton" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.google.com/spreadsheets/d/1leBCZhgDsn-Abg2H_OINGGv-8Gpf9mzuX1RR56v0Sss/edit?pli=1#gid=2000125343">Link to ‘Contract as Automaton’ example</a></p>
<p>A loan is repaid in two instalments. The borrower has to stay out of trouble.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Events and consequences</p></li>
<li><p>Obligations vs permissions</p></li>
<li><p>Process workflow diagrams</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>DECLARE</p></li>
<li><p>DEFINE</p></li>
<li><p>HAS</p></li>
<li><p>IS A</p></li>
<li><p>DO</p></li>
<li><p>HENCE</p></li>
<li><p>LEST</p></li>
<li><p>MAY</p></li>
<li><p>BY</p></li>
<li><p>WITHIN</p></li>
</ul>
</div></blockquote>
<p>Some of the earliest written agreements, carved in stone millennia ago, deal with the lending of property. Following in this tradition, this chapter formalizes a simple financial agreement in L4. The ruleset weaves multiple regulative rules together, in series and in parallel. It shows how a “flowchart”-style diagram is automatically generated from the ruleset.
Such diagrams give people an alternative way to understand legal documents: visually instead of textually.</p>
<section id="declarations-and-definitions">
<h3 id="declarations-and-definitions">Declarations and Definitions<a class="headerlink" href="#declarations-and-definitions" title="Permalink to this heading">¶</a></h3>
<p>This chapter introduces a handful of keywords. DECLARE and DEFINE have to do with data types and values.</p>
<p>If you are familiar with Object-Oriented Programming, from languages like Python, Java, C++, or Javascript, you will find the DECLARE and DEFINE concepts familiar.</p>
<p>We use DECLARE to set up our classes, our records, our types, our schemas, our ontology, our templates.</p>
<p>We use DEFINE to instantiate those templates with concrete values: the specific variables of a particular agreement.</p>
<p>These declarations and definitions are automatically exported to the programming language of your choice, lessening the burden of programming downstream. Some call this “model-driven engineering”; others, “low-code”.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Type Declaration <span class="o">::=</span> DECLARE    MultiTerm   [Type Signature]
                    [   Has-Attribute       ]
                    [       ...             ]

Has-Attribute    <span class="o">::=</span> HAS        MultiTerm   [Type Signature]
                    [   ...                 ]
                    [   Has-Attribute       ]
</pre></div>
</div>
<p>This syntax rule means you can have multiple HAS-Attributes, listed on subsequent lines. For convenience, only the first HAS keyword is necessary; subsequent lines don’t need it.</p>
<p>HAS-Attributes can nest, such that one record declaration can contain another.
For example:</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>DECLARE     Point
HAS         position x          IS A        Number
            position y          IS A        Number
            details             IS A        PointDetail
            HAS     color       IS ONE OF   Red Green Blue
                    value       IS A        Number
                    onHover     IS A        String
</pre></div>
</div>
<p>We’ll talk more about the elementary data-types of L4 later: sum types, product types, lists, and dictionaries. We’ll also talk about type inference and type checking.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Variable Definition <span class="o">::=</span> DEFINE      Value Term  [Type Signature]    // class-object instantiation
                        HAS         MultiTerm   [Type Signature]
                                    [ ... ]
</pre></div>
</div>
<p>Variable definitions with the DEFINE keyword follow the same format as DECLARE.</p>
</section>
<section id="deadlines">
<h3 id="deadlines">Deadlines<a class="headerlink" href="#deadlines" title="Permalink to this heading">¶</a></h3>
<p>This chapter also introduces temporal constraints: the BY and WITHIN keywords set deadlines.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Temporal Constraint <span class="o">::=</span> (BEFORE | AFTER | BY | WITHIN | UNTIL)  Temporal Spec
</pre></div>
</div>
<p>A regulative rule without a temporal constraint is incomplete. L4 substitutes “EVENTUALLY” but will issue a warning so you are conscious that a deadline is missing.</p>
</section>
<section id="deontics">
<h3 id="deontics">Deontics<a class="headerlink" href="#deontics" title="Permalink to this heading">¶</a></h3>
<p>Laws and contracts impose obligations and prohibitions on persons, and grant permissions.</p>
<p>These ideas are central to deontic logic, and underlie L4’s keywords MUST, SHANT, and MAY, respectively.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Deontic Keyword <span class="o">::=</span> MUST | MAY | SHANT
</pre></div>
</div>
<p>Within the context of a single rule, these deontic keywords specify different consequences for the satisfaction or violation of the rule.</p>
<p>The two fundamental consequences in L4 are FULFILLED and BREACH.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>        If the actor does not perform the action
        by the deadline                             If the actor performs
                                                    the action by the deadline

MUST        BREACHED                                FULFILLED
SHANT       FULFILLED                               BREACHED
MAY         FULFILLED                               FULFILLED
</pre></div>
</div>
<p>We observe that a MAY rule is permissive: if you do it, fine! If you don’t, fine!</p>
<p>l4’s workflow diagrams follow a convention: a rule that is satisfied proceeds to the bottom right, while a rule that is violated proceeds to the bottom left. The “happy path” therefore runs along the right side of a diagram. A MAY rule shows action to the right, and inaction to the left.</p>
</section>
<section id="connections">
<h3 id="connections">Connections<a class="headerlink" href="#connections" title="Permalink to this heading">¶</a></h3>
<p>Ordinary programming languages use the IF … THEN … ELSE construct to connect blocks of code, based on whether the conditions in the IF were met.
L4 uses HENCE instead of THEN, and LEST instead of ELSE, to connect regulative rules, based on whether the preceding rule was satisfied.</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>Regulative Connector <span class="o">::=</span> HENCE | LEST   Rule Label | Regulative Rule
</pre></div>
</div>
<p>Individual regulative rules connect with one another to form a graph, or a flowchart, describing a workflow.</p>
<p>What are the semantics of a rule?</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>[Attribute Constraint               ]
[Conditional Constraint             ]
[Upon Trigger                       ]
[HENCE  Rule Label | Regulative Rule]
[LEST   Rule Label | Regulative Rule]
[WHERE  Constitutive Rule
        [ ... ]                     ]
</pre></div>
</div>
</section>
</section>
<section id="entity-relations-ontology-inference-and-predicate-logic-syntax-motor-insurance">
<h2 id="entity-relations-ontology-inference-and-predicate-logic-syntax-motor-insurance">Entity Relations, Ontology Inference, and Predicate Logic Syntax: Motor Insurance<a class="headerlink" href="#entity-relations-ontology-inference-and-predicate-logic-syntax-motor-insurance" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.google.com/spreadsheets/d/1leBCZhgDsn-Abg2H_OINGGv-8Gpf9mzuX1RR56v0Sss/edit?pli=1#gid=2061671536">Link to the case study ‘Motor Insurance’ example</a></p>
<p>Entity Relations, Ontology Inference, and Convenient Syntax for Predicate Logic.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Combining regulative and constitutive rules</p></li>
<li><p>Guards in state transitions</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>DECIDE</p></li>
<li><p>UNLESS</p></li>
<li><p>WHO</p></li>
<li><p>WHICH</p></li>
<li><p>WHEN</p></li>
<li><p>IF</p></li>
<li><p>TYPICALLY</p></li>
</ul>
</div></blockquote>
</section>
<section id="encoding-of-real-legislation-pdpa-dbno">
<h2 id="encoding-of-real-legislation-pdpa-dbno">Encoding of Real Legislation: PDPA DBNO<a class="headerlink" href="#encoding-of-real-legislation-pdpa-dbno" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://docs.google.com/spreadsheets/d/1leBCZhgDsn-Abg2H_OINGGv-8Gpf9mzuX1RR56v0Sss/edit?pli=1#gid=1779650637">Link to the case study ‘PDPA DBNO’ example</a></p>
<p>L4 automatically generates a web app from real-world legislation &amp; regulation. It is an encoding of a fragment of real-world legislation.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Reference and Expansion</p></li>
<li><p>Temporal Keywords</p></li>
<li><p>State transitions</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>DECIDE</p></li>
<li><p>UNLESS</p></li>
<li><p>WHO</p></li>
<li><p>WHICH</p></li>
<li><p>WHEN</p></li>
<li><p>IF</p></li>
<li><p>TYPICALLY</p></li>
</ul>
</div></blockquote>
<p>We will continue our examination of the PDPA DBNO case with a deep dive into Petri Nets; it is intended to be a Petri Net representation of the PDPA DBNO example.</p>
<p>Concepts introduced:</p>
<ol class="arabic simple">
<li><p>Workflow diagrams in detail</p></li>
<li><p>BPMN used in industry</p></li>
<li><p>Process algebras</p></li>
</ol>
<p>Keywords introduced:</p>
<blockquote>
<div><ul class="simple">
<li><p>HENCE</p></li>
</ul>
</div></blockquote>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2023, Meng Weng Wong.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>